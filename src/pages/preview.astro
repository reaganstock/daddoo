---
import Layout from '../layouts/Layout.astro';
import HeroSection from '../components/HeroSection.astro';
import NormQuote from '../components/NormQuote.astro';
import BirthdayCountdown from '../components/BirthdayCountdown.astro';
import TributeSection from '../components/tributes/TributeSection';
import MemorySection from '../components/memories/MemorySection';
import FunFactsContainer from '../components/fun-facts/FunFactsContainer';
import MusicPlayer from '../components/MusicPlayer.astro';
import PreviewCheck from '../components/Auth/PreviewCheck.tsx';

const memories = [
  {
    id: 'evening',
    image: "https://imgur.com/m9dIxdM.jpg",
    title: "Evening Together",
    description: "A wonderful evening spent with family",
    date: new Date().toISOString()
  },
  {
    id: 'dining',
    image: "https://imgur.com/YEqEAbZ.jpg",
    title: "Fine Dining & Family",
    description: "Creating memories over delicious meals",
    date: new Date().toISOString()
  },
  {
    id: 'christmas',
    image: "https://imgur.com/NDEzhu6.jpg",
    title: "Christmas Spirit",
    description: "Celebrating the holiday season together",
    date: new Date().toISOString()
  },
  {
    id: 'notre-dame',
    image: "https://imgur.com/wUln2kq.jpg",
    title: "Notre Dame Pride",
    description: "Sharing our love for the Fighting Irish",
    date: new Date().toISOString()
  },
  {
    id: 'legends',
    image: "https://imgur.com/ijHTR0s.jpg",
    title: "Legends Legacy",
    description: "Making memories at our favorite spot",
    date: new Date().toISOString()
  }
];

---

<Layout title="Dad's Birthday - Preview">
  <PreviewCheck client:load>
    <main class="min-h-screen bg-gradient-to-b from-gray-900 via-purple-900 to-blue-900">
      <header class="bg-transparent py-4">
        <div class="container mx-auto px-4 flex justify-between items-center">
          <h1 class="text-white text-2xl font-bold">Dad's Birthday - Preview</h1>
          <a href="/" class="text-white hover:text-red-300 transition-colors">Exit Preview</a>
        </div>
      </header>

      <HeroSection />
      <div class="container mx-auto px-4 py-12 max-w-7xl">
        <NormQuote />
        <BirthdayCountdown />
        
        <!-- Show all sections by default -->
        <div class="space-y-12">
          <div class="section-content">
            <TributeSection client:load isPreview={true} />
          </div>
          <div class="section-content">
            <MemorySection client:load defaultMemories={memories} isPreview={true} />
          </div>
          <div class="section-content">
            <FunFactsContainer client:load isPreview={true} />
          </div>
        </div>
      </div>
      <MusicPlayer />
    </main>
  </PreviewCheck>
</Layout>

<style>
  .section-content {
    opacity: 1;
    transition: opacity 0.3s ease-in-out;
  }
</style>
