---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header';
import SectionNav from '../components/navigation/SectionNav';
import HeroSection from '../components/HeroSection.astro';
import NormQuote from '../components/NormQuote.astro';
import BirthdayCountdown from '../components/BirthdayCountdown.astro';
import TributeSection from '../components/tributes/TributeSection';
import MemorySection from '../components/memories/MemorySection';
import FunFactsContainer from '../components/fun-facts/FunFactsContainer';
import MusicPlayer from '../components/MusicPlayer.astro';
import { ProtectedRoute } from '../components/auth/ProtectedRoute';
import PreviewButton from '../components/ui/PreviewButton';

const memories = [
  {
    id: 'evening',
    image: "https://imgur.com/m9dIxdM.jpg",
    title: "Evening Together",
    description: "A wonderful evening spent with family",
    date: new Date().toISOString()
  },
  {
    id: 'dining',
    image: "https://imgur.com/YEqEAbZ.jpg",
    title: "Fine Dining & Family",
    description: "Creating memories over delicious meals",
    date: new Date().toISOString()
  },
  {
    id: 'christmas',
    image: "https://imgur.com/NDEzhu6.jpg",
    title: "Christmas Spirit",
    description: "Celebrating the holiday season together",
    date: new Date().toISOString()
  },
  {
    id: 'notre-dame',
    image: "https://imgur.com/wUln2kq.jpg",
    title: "Notre Dame Pride",
    description: "Sharing our love for the Fighting Irish",
    date: new Date().toISOString()
  },
  {
    id: 'legends',
    image: "https://imgur.com/ijHTR0s.jpg",
    title: "Legends Legacy",
    description: "Making memories at our favorite spot",
    date: new Date().toISOString()
  }
];
---

<Layout title="Celebrating Trey Stock">
  <div class="relative min-h-screen bg-gradient-to-b from-gray-900 via-purple-900 to-blue-900">
    <ProtectedRoute client:load>
      <Header client:load />
      <main class="container mx-auto px-4 py-8">
        <div class="flex justify-end my-12">
          <PreviewButton client:load />
        </div>
        <HeroSection />
        <div class="container mx-auto px-4 py-12 max-w-7xl">
          <NormQuote />
          <BirthdayCountdown />
          <SectionNav client:load />
          <div id="tributes" class="section-content block">
            <TributeSection client:load />
          </div>
          <div id="memories" class="section-content block">
            <MemorySection client:load defaultMemories={memories} />
          </div>
          <div id="funfacts" class="section-content block">
            <FunFactsContainer client:load />
          </div>
        </div>
        <MusicPlayer />
      </main>
    </ProtectedRoute>
  </div>
</Layout>

<style>
  .section-content {
    scroll-margin-top: 2rem;
  }
</style>